# File: keycloak-event-gateway/test/docker-compose.yml
#
# Deploys containers for local tests: Keycloak + listener, and Selenium
#

version: '3'

services:

#  keycloak-event-gateway:
#      image: kalisio/keycloak-event-gateway

  keycloak:
      image: quay.io/keycloak/keycloak:22.0.5
      command: start-dev
      environment:
        KC_HOSTNAME: localhost
        KEYCLOAK_ADMIN: admin
        KEYCLOAK_ADMIN_PASSWORD: adminp
 #     volumes:
  #      - ./target/feathers-emitter-24.0.2.jar://opt/keycloak/providers/feathers-emitter.jar
      ports:
        - 8080:8080

  selenium:
      image: selenium/standalone-firefox:110.0
      # Required so Selenium can access Keycloak through http://localhost:8080
      network_mode: host 
      # ports:
        # Cannot use because we use --network=host
        # - 4444:4444 

#volumes:
#  keycloak-feathers-broker-postgres:
